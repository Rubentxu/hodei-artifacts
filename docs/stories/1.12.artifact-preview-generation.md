# Story 1.12: Generaci√≥n de Vistas Previas de Artefactos

## Status

Draft

## Story

**As a** Developer browsing the repository UI,
**I want** to see a preview of certain artifact types (e.g., thumbnails for images, content of a README file),
**so that** I can quickly identify and understand an artifact without having to download it.

## Acceptance Criteria

1. The system must be able to generate previews for common file types like images (PNG, JPG), text files (MD, TXT), and archives (ZIP, JAR).
2. For images, a thumbnail should be generated and stored.
3. For text files, the first N lines or kilobytes should be extracted.
4. For archives, a listing of the root contents should be generated.
5. Preview generation should be an asynchronous process triggered after an artifact is uploaded.
6. An `ArtifactPreviewGenerated` event should be published upon completion.
7. The UI should display these previews on the artifact details page.

## Tasks / Subtasks

- [ ] Implement an asynchronous preview generation service.
- [ ] Integrate an image manipulation library for thumbnail generation (e.g., `image`).
- [ ] Implement logic to extract text snippets.
- [ ] Integrate a library to list archive contents (e.g., `zip`).
- [ ] Store the generated previews or their metadata alongside the artifact.
- [ ] Publish the `ArtifactPreviewGenerated` event.
- [ ] Develop frontend components to display the previews.

## Dev Notes

### Technical Constraints
- Preview generation can be resource-intensive and must be handled in a separate, sandboxed process or worker queue to not affect the main application's performance.