# Historia de Usuario: Soporte para Protocolos Estándar (US-1.1)

## Resumen
Como Ingeniero de CI/CD, quiero poder configurar mis herramientas de construcción (como Maven y npm) para usar Hodei Artifacts como cualquier otro repositorio, de modo que el proceso de migración sea transparente y no requiera modificar mis pipelines o scripts existentes.

## Criterios de Aceptación

### Funcionales
* **AC-1.1.1 (Protocolo de Ingesta):** El sistema debe aceptar artefactos subidos a través del protocolo de Maven (HTTP PUT), siguiendo la especificación estándar del formato.
* **AC-1.1.2 (Protocolo de Descarga):** El sistema debe servir artefactos a través del protocolo de Maven (HTTP GET) con la estructura de directorios y metadatos esperada.
* **AC-1.1.3 (Manejo de Metadatos):** El sistema debe ser capaz de procesar y validar el archivo `pom.xml` para extraer metadatos como dependencias, nombre de artefacto, versión y `groupId`.
* **AC-1.1.4 (Soporte CLI):** Un usuario debe poder configurar `~/.m2/settings.xml` para apuntar a Hodei Artifacts y ejecutar `mvn deploy` y `mvn install` sin errores.

### No Funcionales
* **AC-1.1.5 (Rendimiento):** El tiempo de respuesta para las operaciones de ingesta y descarga de metadatos (p99) no debe superar los 50ms.
* **AC-1.1.6 (Compatibilidad):** El sistema debe pasar los tests de regresión para asegurar la compatibilidad total con la herramienta de línea de comandos de Maven.

## Tareas Técnicas
* [ ] Investigar la especificación del protocolo de Maven.
* [ ] Diseñar la `Vertical Slice` para el protocolo Maven.
* [ ] Implementar los endpoints `POST` y `GET` para la ingesta y recuperación de artefactos Maven.
* [ ] Escribir la lógica para procesar el `pom.xml` y extraer metadatos relevantes.
* [ ] Integrar la lógica de autenticación y autorización (IAM) con el motor de Cedar para las operaciones de Maven.
* [ ] Escribir tests de integración end-to-end con un cliente real de Maven para validar el comportamiento.

## Notas para el Desarrollador
* El `crate` para la funcionalidad Maven debe ser un `crate` independiente dentro del `workspace`, siguiendo los principios de la Arquitectura Hexagonal.
* Utilizar `object_store` para la abstracción del almacenamiento y `SurrealDB` para el almacenamiento de metadatos.
* Se deben generar HRNs para cada artefacto Maven, asegurando que el `resource-type` sea `artifact` y el `resource-id` sea un identificador único basado en el `groupId`, `artifactId` y `version`.
