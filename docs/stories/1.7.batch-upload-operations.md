# Story 1.7: Operaciones de Subida por Lotes

## Status

Draft

## Story

**As a** CI/CD System,
**I want** to upload multiple artifacts in a single batch operation,
**so that** I can improve efficiency and reduce the number of HTTP requests when publishing a project with many modules.

## Acceptance Criteria

1. The system must provide an API endpoint for batch artifact uploads.
2. The endpoint should accept a list of artifacts (metadata and binary content) in a single request.
3. The system must process each artifact in the batch individually, applying all the same logic (validation, hashing, etc.).
4. The response should provide a status for each artifact in the batch (e.g., success or failure with a reason).
5. The operation should be atomic or transactional where possible; if one critical artifact fails, the whole batch could be rolled back.
6. The system should publish individual `ArtifactUploaded` or `ArtifactUploadFailed` events for each artifact in the batch.

## Tasks / Subtasks

- [ ] Design the API for batch uploads (e.g., `POST /artifacts/batch`).
- [ ] Implement the handler to iterate and process the batch.
- [ ] Determine the transactionality strategy for batch operations.
- [ ] Implement the response format to include individual artifact statuses.
- [ ] Write integration tests for various batch scenarios (all success, partial failure, all failure).

## Dev Notes

### API Specifications
- **New Endpoint**: `POST /artifacts/batch`
- The request body would likely be a multipart request where each part corresponds to an artifact, or a manifest file with pointers to the binaries.