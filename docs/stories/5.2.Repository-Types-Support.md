# Story 5.2: Repository Types Support

## Status
- Draft

## Story
**Como** un Desarrollador,
**quiero** que el sistema soporte la gestión de artefactos para múltiples tipos de paquetes como Maven, npm y Docker,
**para** poder centralizar la gestión de todas nuestras dependencias tecnológicas en un único lugar.

## Acceptance Criteria
1.  El sistema debe poder manejar la subida (upload) y bajada (download) de artefactos Maven (`.jar`, `.pom`).
2.  El sistema debe generar y servir correctamente los metadatos de Maven (`maven-metadata.xml`).
3.  El sistema debe poder manejar la publicación (publish) e instalación (install) de paquetes npm (`.tgz`).
4.  El sistema debe generar y servir correctamente los metadatos de paquetes npm (`package.json`).
5.  El sistema debe poder manejar el push y pull de imágenes Docker.
6.  El sistema debe interactuar correctamente con los clientes nativos (Maven, npm, Docker CLI).

## Tasks / Subtasks
- [ ] Tarea 1: Implementar el manejador de formato para repositorios Maven. (AC: 1, 2, 6)
    - [ ] Subtarea 1.1: Lógica para parsear y servir artefactos y POMs.
    - [ ] Subtarea 1.2: Lógica para generar y actualizar `maven-metadata.xml` en las subidas.
- [ ] Tarea 2: Implementar el manejador de formato para repositorios npm. (AC: 3, 4, 6)
    - [ ] Subtarea 2.1: Lógica para manejar la subida de tarballs (`.tgz`).
    - [ ] Subtarea 2.2: Lógica para generar el `package.json` del repositorio.
- [ ] Tarea 3: Implementar el manejador de formato para repositorios Docker (Registry V2 API). (AC: 5, 6)
    - [ ] Subtarea 3.1: Implementar los endpoints requeridos para `docker pull`.
    - [ ] Subtarea 3.2: Implementar los endpoints requeridos para `docker push`.
- [ ] Tarea 4: Añadir pruebas de integración que simulen las interacciones de los clientes nativos para cada tipo de paquete.

## Dev Notes

### Relevant Source Tree info
- **ADVERTENCIA**: No se encontró guía específica. El documento `docs/architecture/unified-project-structure.md` no fue proporcionado.

### API Specifications
- **ADVERTENCIA**: Se debe implementar la lógica siguiendo las especificaciones de las APIs de los registros de Maven, npm y Docker V2. No se proporcionó un diseño de arquitectura interna.

### Data Models
- **ADVERTENCIA**: No se encontró guía específica. Será necesario diseñar cómo se almacenarán los metadatos y artefactos para cada tipo de paquete.

### Testing
- **ADVERTENCIA**: No se encontró guía específica. Las pruebas deben validar la compatibilidad con los clientes CLI estándar.